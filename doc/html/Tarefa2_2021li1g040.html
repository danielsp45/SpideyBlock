<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Tarefa2_2021li1g040</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption empty">&nbsp;</p></div><div id="content"><div id="module-header"><table class="info"><tr><th valign="top">Copyright</th><td>Daniel da Silva Pereira &lt;a100545@alunos.uminho.pt&gt;;<br />: Rodrigo Viana Ramos Casal Novo &lt;a100534@alunos.uminho.pt&gt;;</td></tr><tr><th>Safe Haskell</th><td>Safe</td></tr></table><p class="caption">Tarefa2_2021li1g040</p></div><div id="description"><p class="caption">Description</p><div class="doc"><p>M&#243;dulo para a realiza&#231;&#227;o da Tarefa 2 do projeto de LI1 em 2021/22.</p><h1>Constru&#231;&#227;o e desconstru&#231;&#227;o do mapa</h1><p>A fun&#231;&#227;o <strong><code>constroiMapa</code></strong> recebe numa lista de pecas, ordenada ou n&#227;o, e retorna um mapa,
ou seja, uma lista de listas de pecas, em que cada lista de pecas corresponde a uma linha do mapa.
A fun&#231;&#227;o <strong><code>desconstroiMapa</code></strong> recebe um mapa e torna-a numa lista de pe&#231;as. </p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><a href="#v:constroiMapa">constroiMapa</a> :: [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] -&gt; <a href="LI12122.html#t:Mapa" title="LI12122">Mapa</a></li><li class="src short"><a href="#v:constroiMapaT4">constroiMapaT4</a> :: [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] -&gt; <a href="LI12122.html#t:Mapa" title="LI12122">Mapa</a></li><li class="src short"><a href="#v:ordena_linha_coluna">ordena_linha_coluna</a> :: [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] -&gt; [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] -&gt; [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] -&gt; Int -&gt; [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)]</li><li class="src short"><a href="#v:ordenaColuna">ordenaColuna</a> :: [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] -&gt; [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)]</li><li class="src short"><a href="#v:maisPequenos">maisPequenos</a> :: Int -&gt; [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] -&gt; [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)]</li><li class="src short"><a href="#v:maiores">maiores</a> :: Int -&gt; [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] -&gt; [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)]</li><li class="src short"><a href="#v:isCoordIn">isCoordIn</a> :: <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a> -&gt; [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] -&gt; Bool</li><li class="src short"><a href="#v:nLinhas">nLinhas</a> :: [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] -&gt; Int</li><li class="src short"><a href="#v:desconstroiMapa">desconstroiMapa</a> :: <a href="LI12122.html#t:Mapa" title="LI12122">Mapa</a> -&gt; [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)]</li><li class="src short"><a href="#v:desconstroiMapa-39-">desconstroiMapa'</a> :: <a href="LI12122.html#t:Mapa" title="LI12122">Mapa</a> -&gt; (Int, Int) -&gt; [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)]</li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><a id="v:constroiMapa" class="def">constroiMapa</a> <a href="#v:constroiMapa" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)]</td><td class="doc"><p>Recebe a lista de pecas, ordenadas ou n&#227;o</p></td></tr><tr><td class="src">-&gt; <a href="LI12122.html#t:Mapa" title="LI12122">Mapa</a></td><td class="doc"><p>Retorna o mapa construido</p></td></tr></table></div><div class="doc"><pre>constroiMapa :: [(Peca, Coordenadas)] -&gt; Mapa                 
constroiMapa input_mapa | validaPotencialMapa input_mapa = constroiMapaT4 input_mapa
                        | otherwise = []
</pre><p>A fun&#231;&#227;o <code>constroiMapa</code> recorre uma fun&#231;&#227;o auxiliar <code>controiMapaT4</code> pois, caso recorressemos &#224; fun&#231;&#227;o <code>constroiMapa</code>
na tarefa 4, esta poderia falhar devido &#224; valida&#231;&#227;o do mapa. Sendo assim, a verifica&#231;&#227;o do mapa &#233; feita apenas 
em <code>constroiMapa</code> procedendo para a constru&#231;&#227;o do mapa em <code>constroiMapaT4</code> (caso o <code>validaMapa</code> retorne True).</p></div></div><div class="top"><p class="src"><a id="v:constroiMapaT4" class="def">constroiMapaT4</a> :: [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] -&gt; <a href="LI12122.html#t:Mapa" title="LI12122">Mapa</a> <a href="#v:constroiMapaT4" class="selflink">#</a></p><div class="doc"><p>desconstroi mapa da T4</p></div></div><div class="top"><p class="src"><a id="v:ordena_linha_coluna" class="def">ordena_linha_coluna</a> <a href="#v:ordena_linha_coluna" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)]</td><td class="doc"><p>Recebe um acumulador </p></td></tr><tr><td class="src">-&gt; [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)]</td><td class="doc"><p>Recebe a lista de pecas que serao verificas</p></td></tr><tr><td class="src">-&gt; [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)]</td><td class="doc"><p>Recebe a mesma lista de pe&#231;as que nunca ser&#225; alterado, servindo apenas para repor a lista de pe&#231;as anterior quando a fun&#231;&#227;o passa para uma nova linha</p></td></tr><tr><td class="src">-&gt; Int</td><td class="doc"><p>Recebe o n&#250;mero de linhas do mapa</p></td></tr><tr><td class="src">-&gt; [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)]</td><td class="doc"><p>Retorna a lista de pe&#231;as ordenada</p></td></tr></table></div><div class="doc"><p>A fun&#231;&#227;o <code>ordena_linha_coluna</code> ordena o mapa por linhas e consecutivamente por colunas,
recorrendo posteriormente &#224; fun&#231;&#227;o <code>ordenaColuna</code> para o fazer retornando assim uma lista de pe&#231;as 
ordenada tornando mais facil a execu&#231;&#227;o da fun&#231;&#227;o <code>constroiMapa</code></p></div></div><div class="top"><p class="src"><a id="v:ordenaColuna" class="def">ordenaColuna</a> <a href="#v:ordenaColuna" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)]</td><td class="doc"><p>Recebe a lista de pe&#231;as ordenada por linhas</p></td></tr><tr><td class="src">-&gt; [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)]</td><td class="doc"><p>Retorna a lista de pe&#231;as ordenada por linhas e por colunas</p></td></tr></table></div><div class="doc"><p>A fun&#231;&#227;o <code>ordenaColuna</code> funciona similarmente ao quicksort mas ligeiramente adaptado ao problema em quest&#227;o recorrendo &#224;s 
fun&#231;&#245;es <strong><code>maisPequenos</code></strong> e <strong><code>maiores</code></strong></p></div></div><div class="top"><p class="src"><a id="v:maisPequenos" class="def">maisPequenos</a> :: Int -&gt; [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] -&gt; [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] <a href="#v:maisPequenos" class="selflink">#</a></p><div class="doc"><p>Coleciona as pecas com a coluna mais pequena em compara&#231;&#227;o com a do elemento central da fun&#231;&#227;o <code>ordenaColuna</code> </p></div></div><div class="top"><p class="src"><a id="v:maiores" class="def">maiores</a> :: Int -&gt; [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] -&gt; [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] <a href="#v:maiores" class="selflink">#</a></p><div class="doc"><p>Coleciona as pecas com a coluna maior em compara&#231;&#227;o com a do elemento central da fun&#231;&#227;o <code>ordenaColuna</code> </p></div></div><div class="top"><p class="src"><a id="v:isCoordIn" class="def">isCoordIn</a> :: <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a> -&gt; [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] -&gt; Bool <a href="#v:isCoordIn" class="selflink">#</a></p><div class="doc"><p>A <code>isCoordin</code> verifica se a coordenada em quest&#227;o consta no input </p></div></div><div class="top"><p class="src"><a id="v:nLinhas" class="def">nLinhas</a> :: [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] -&gt; Int <a href="#v:nLinhas" class="selflink">#</a></p><div class="doc"><p>Calcula o n&#250;mero de linhas do mapa</p></div></div><div class="top"><p class="src"><a id="v:desconstroiMapa" class="def">desconstroiMapa</a> <a href="#v:desconstroiMapa" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="LI12122.html#t:Mapa" title="LI12122">Mapa</a></td><td class="doc"><p>Recebe o mapa</p></td></tr><tr><td class="src">-&gt; [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)]</td><td class="doc"><p>Retorna uma lista de pe&#231;as com as respetivas coordenadas</p></td></tr></table></div><div class="doc"><p>A fun&#231;&#227;o <strong><code>desconstroiMapa</code></strong> recebe uma lista de lista de pe&#231;as e retorna uma lista de pe&#231;as com as suas respetivas coordenadas 
ignorando os espa&#231;os vazios.</p></div></div><div class="top"><p class="src"><a id="v:desconstroiMapa-39-" class="def">desconstroiMapa'</a> :: <a href="LI12122.html#t:Mapa" title="LI12122">Mapa</a> -&gt; (Int, Int) -&gt; [(<a href="LI12122.html#t:Peca" title="LI12122">Peca</a>, <a href="LI12122.html#t:Coordenadas" title="LI12122">Coordenadas</a>)] <a href="#v:desconstroiMapa-39-" class="selflink">#</a></p><div class="doc"><p>auxiliar da desconstroi mapa </p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.22.0</p></div></body></html>